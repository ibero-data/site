---
import ContactForm from "./ContactForm";
import { Mail, MapPin, Linkedin } from "lucide-react";
import { getLangFromUrl, getTranslations } from "../lib/i18n";

const lang = getLangFromUrl(Astro.url);
const t = getTranslations(lang);
---

<section id="contact" class="py-24 md:py-32 bg-background">
  <div class="container mx-auto px-6">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold mb-4 text-foreground">
        {t.contact.title}
      </h2>
      <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
        {t.contact.description}
      </p>
    </div>

    <div class="grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto">
      <!-- Contact Information -->
      <div class="space-y-6">
        <!-- Email -->
        <div class="flex items-start gap-4 p-5 rounded-xl bg-muted border border-border">
          <div class="inline-flex items-center justify-center p-2.5 rounded-xl bg-primary/10 border border-primary/20 flex-shrink-0">
            <Mail className="w-5 h-5 text-primary" />
          </div>
          <div>
            <h3 class="font-semibold text-foreground mb-1">{t.contact.emailLabel}</h3>
            <a href="mailto:info@iberodata.es" class="text-muted-foreground hover:text-primary transition-colors">
              info@iberodata.es
            </a>
          </div>
        </div>

        <!-- Location -->
        <div class="flex items-start gap-4 p-5 rounded-xl bg-muted border border-border">
          <div class="inline-flex items-center justify-center p-2.5 rounded-xl bg-primary/10 border border-primary/20 flex-shrink-0">
            <MapPin className="w-5 h-5 text-primary" />
          </div>
          <div>
            <h3 class="font-semibold text-foreground mb-1">{t.contact.locationLabel}</h3>
            <p class="text-muted-foreground">Alicante, Spain</p>
            <p class="text-sm text-muted-foreground mt-1">{t.contact.servingRegions}</p>
          </div>
        </div>

        <!-- LinkedIn -->
        <div class="flex items-start gap-4 p-5 rounded-xl bg-muted border border-border">
          <div class="inline-flex items-center justify-center p-2.5 rounded-xl bg-accent/10 border border-accent/20 flex-shrink-0">
            <Linkedin className="w-5 h-5 text-accent" />
          </div>
          <div>
            <h3 class="font-semibold text-foreground mb-1">LinkedIn</h3>
            <a
              href="https://linkedin.com/company/iberodata"
              target="_blank"
              rel="noopener noreferrer"
              class="text-muted-foreground hover:text-primary transition-colors"
            >
              /company/iberodata
            </a>
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="p-6 md:p-8 bg-muted rounded-2xl border border-border">
        <h3 class="text-xl font-semibold text-foreground mb-6">{t.contact.formTitle}</h3>
        <ContactForm client:load translations={t} />
      </div>
    </div>
  </div>
</section>
